@import "globals";

:root {
	color-scheme: light dark;
}

/* set better fonts */
* {
	font-family: $font-family !important;
}

/* disable quick links popup because I don't use it, remove these lines if you do use this */
#quick_links_wrap {
	display: none !important;
}

/* Replace welcome image */
img[src="https://online.manchester.ac.uk/branding/_96_1/welcome-image03.png"] {
	background: url("https://adil.hanney.org/public-assets/cat.jpg") center center no-repeat;
	background-size: cover;
	box-sizing: border-box;
	padding-left: 100%;
	padding-top: 70%;
}

/* collapse Communications tab */
#div_308_1 .vtbegenerated > h5:nth-of-type(2n) {
	&,
	& ~ *,
	& ~ * > p {
		display: -webkit-box;
		transition: opacity 0.5s;
		transition-property: -webkit-line-clamp, opacity;
		overflow: hidden;
		text-overflow: ellipsis;
		-webkit-line-clamp: 2;
		-webkit-box-orient: vertical;
		opacity: 0.6;
	}
	&:hover,
	& ~ *:hover,
	& ~ *:hover > p {
		-webkit-line-clamp: 100;
		opacity: 1;
	}
}



body,
.locationPane {
	background: $bg-body;
}

a,
.portlet .subCategories li a,
.blockGroups .itemHead,
.blockGroups .itemHeadOpen,
[style*="color:#0000FF"],
[style*="color: #0000ff"],
[style*="color: blue"] {
	color: $logo-color !important;
}
.eval-links .genericButton,
.eval-links .button-4,
.eval-links input[type="button"].genericButton,
[style*="color: #174e86"] {
	color: $logo-color-darker !important;
}
[style*="color: #24a6bb"] {
	color: $logo-color-lighter !important;
}
.detail-heading h2 a {
	border-bottom-color: $logo-color-darker;
}

h1, h2, h3, h4, h5, h6,
p, strong, b,
.collapsible table {
	color: inherit !important;
}

.brandingImgWrap {
	aspect-ratio: 3.25 / 1;
	width: auto;
	height: 44px;
	margin: 5px 5px -10px 5px;
	background: $logo-color url("/branding/_1_1/uom_logo_learn2016theme.png") no-repeat;
	.bannerImage {
		display: none;
	}
}
.badge {
	background-color: $logo-color !important;
}
.topTabs .tabWrapper-right {
	height: 3rem;
}
.appTabs td {
	padding-bottom: 0 !important;
}
.appTabs a {
	padding: 0 1.2em;
}


.portlet h2,
div.tab {
	color: $fg-header;
	background: $bg-header;
}
.collapsible {
	border-top-color: rgba(0,0,0,0.05);
}

.stream_page_left {
	background: rgba(0,0,0,0.02);
}
.gradeTableNew .calculatedRow.row {
	border-left-color: transparent;
	border-right-color: transparent;
	-webkit-box-shadow: 0 0 21px 4px $logo-color-box-shadow inset;
	-moz-box-shadow: 0 0 21px 4px $logo-color-box-shadow inset;
	box-shadow: 0 0 21px 4px $logo-color-box-shadow inset;
}

.ally-alternative-formats.ally-prominent-af-download-button {
	width: auto;
	height: 10px;
	aspect-ratio: 5 / 3;
	opacity: 0.8;
}

$orig_document_icon: "/images/ci/sets/set01/document_on.gif";
$orig_file_icon: "/images/ci/sets/set01/file_on.gif";
$orig_folder_icon: "/images/ci/sets/set01/folder_on.gif";
$custom_document_icon: "https://adil.hanney.org/public-assets/wow64-icon-theme/x-office-document.svg";
$custom_file_icon: "https://adil.hanney.org/public-assets/wow64-icon-theme/application-x-mswinurl.svg";
$custom_folder_icon: "https://adil.hanney.org/public-assets/wow64-icon-theme/folder.svg";

/* replace document and folder icons */
img[src="#{$orig_document_icon}"],
img[src="#{$orig_file_icon}"],
img[src="#{$orig_folder_icon}"] {
	width: 50px;
	height: 50px;
	background: url("#{$custom_folder_icon}") center center no-repeat;
	background-size: contain;
	box-sizing: border-box;
	padding-left: 50px;
	padding-top: 50px;
}
img[src="#{$orig_document_icon}"] {
	background-image: url("#{$custom_document_icon}");
	filter: hue-rotate(35deg);
}
img[src="#{$orig_file_icon}"] {
	background-image: url("#{$custom_file_icon}");
	filter: hue-rotate(55deg);
}

#puller.pullcollapsed a {
	background-color: $logo-color-lighter;
}

#containerdiv {
	border: none;
	background: none;
}
.liItem, .buildList > li {
	border: none !important;
	@include box-shadow-light-mode;
	margin-bottom: 3rem !important;
}
.portlet {
	margin: 0 1rem 3rem 1rem;
}

@media (prefers-color-scheme: dark) {
	html, body,
	.locationPane,
	.contentPane {
		background: $bg-body-invert;
		color: #fff;
	}
	#contentArea, .containerOptions, .containerPortal {
		color: #eee;
	}
	.portlet {
		color: #bbb;
	}


	a,
	.portlet .subCategories li a,
	.blockGroups .itemHead,
	.blockGroups .itemHeadOpen,
	[style*="color:#0000FF"],
	[style*="color: #0000ff"],
	[style*="color: blue"] {
		color: $logo-color-invert !important;
	}
	.eval-links .genericButton,
	.eval-links .button-4,
	.eval-links input[type="button"].genericButton,
	[style*="color: #174e86"] {
		color: $logo-color-invert-lighter !important;
	}
	[style*="color: #24a6bb"] {
		color: $logo-color-invert-darker !important;
	}
	.detail-heading h2 a {
		border-bottom-color: $logo-color-invert-lighter;
	}
	hr, [style*="border-bottom: 1px dashed #d1d1d1"][style*="border-top: 3px solid #d1d1d1"] {
		height: 0 !important;
		background: transparent !important;
		border-bottom: none !important;
		border-top-color: $hr !important;
	}
	[style*="color:#000000"] {
		color: white !important;
	}
	[style*="color: #666666"] {
		color: #aaa !important;
	}

	.portlet h2, div.tab,
	.breadcrumbs, .paneTabs {
		color: #eee;
		background: #141414;
	}
	div.tab button {
		background-color: black;
		color: #ddd;
		border-color: #555;
	}
	div.tab button:hover {
		background-color: #202020;
	}
	div.tab button.active {
		background-color: #202020;
		color: #ddd;
	}
	.path .placeholder, .simplePath .placeholder {
		color: #bbb;
	}

	.contextPath a.cmimg, .courseArrow a.cmimg {
		filter: invert(1);
		border-radius: 50%;
		padding: 0;
		width: 16px;
		height: 16px;
		background-color: rgba(0,0,0,0.1);
		border: rgba(0,0,0,0.4) 2px solid;
	}
	.breadcrumbs,
	table.bouncer {
		border-color: #555;
	}
	.contentPane .shadow {
		border-color: transparent;
	}

	.liItem, .buildList > li {
		@include box-shadow-dark-mode();
	}
	.liItem:hover, .buildList > li:hover {
		background-color: rgba(255,255,255,0.05);
	}

	img.eud-avatar {
		transform: none;
		background: #999;
		border-radius: 50%;
		aspect-ratio: 1 / 1;
		height: auto;
		padding: 1.75px;
	}
	.actionMenuButton {
		background: rgba(255,255,255,0.1) !important;
		border: none;
		box-shadow: none;
	}
	.cmdiv {
		background: $bg-navbar;
		border: none;
	}
	.cmdiv > ul {
		border-top: none !important;
	}

	#copyright {
		color: rgba(255,255,255,0.6);
		.logo img {
			filter: invert(0.6);
		}
	}

	.uomFooter {
		overflow: visible;
		max-width: 100%;
	}
	.uomFooter img {
		filter: invert(0.9);
	}
}
